<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<link rel="stylesheet" href="static/style/base.css" type="text/css">
		<link rel="stylesheet" href="static/bootstrap-3.3.2-dist/css/bootstrap.min.css" type="text/css">
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.2/angular.min.js"></script>
		<script src="http://code.jquery.com/jquery-1.11.2.min.js"></script>
		<script src="static/bootstrap-3.3.2-dist/js/bootstrap.min.js"></script>
		<script src="https://cdn.firebase.com/js/client/2.0.4/firebase.js"></script>
		<script src="https://cdn.firebase.com/libs/angularfire/0.9.1/angularfire.min.js"></script>
		<script src="static/js/script.js"></script>
        <title>Angular - Marcin Sywala</title>
    </head>
    <body ng-app="myApp">
		<div class="container" ng-controller="myCtrl">
			<div class="row">
				<div class="col-xs-9">
					<h1 class="text-center">Now Playing</h1>
				</div>
				<div class="col-sm-3">
					<input class="form-control search" placeholder="Search" ng-model="searchText" />
				</div>
			</div>
			<div class="row sort">
				<div class="col-sm-2">Sort by:</div>
				<div class="col-sm-2"><a href="" ng-click="predicate=''">None</a></div>
				<div class="col-sm-2"><a href="" ng-click="predicate = 'title'; reverse=!reverse">Title</a></div>
				<div class="col-sm-2"><a href="" ng-click="predicate = 'release_date'; reverse=!reverse">Release date</a></div>
				<div class="col-sm-2"><a href="" ng-click="predicate = 'vote_average'; reverse=!reverse">Vote aveage</a></div>
				<div class="col-sm-2"><a href="" ng-click="predicate = 'vote_count'; reverse=!reverse">Vote count</a></div>
			</div>
			<div class="row posts" ng-animate="'animate'" ng-repeat="item in data.results | filter: {title: searchText} | orderBy:predicate:reverse">
				<div class="col-sm-6" ng-if="item.backdrop_path != null">
					<img class="img-responsive post-image" src="https://image.tmdb.org/t/p/w500/{{item.backdrop_path}}" />
				</div>
				<div class="col-lg-6" ng-if="item.backdrop_path == null">
					<img class="img-responsive post-image" src="static/images/nonAvailable.jpg" />
				</div>	
				<div class="col-sm-6">
					<h2>{{item.title}}</h2>
					<dl class="">
						<dt>Release date</dt>
						<dd>{{item.release_date}}</dd>
						<dt>Vote average</dt>
						<dd>{{item.vote_average}}</dd>
						<dt>Vote count</dt>
						<dd>{{item.vote_count}}</dd>	
					</dl>						
				</div>
			</div>

		</div>
    </body>
</html>
